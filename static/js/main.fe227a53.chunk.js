(this["webpackJsonpmovie-theater"]=this["webpackJsonpmovie-theater"]||[]).push([[0],{65:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){"use strict";c.r(t);var n,r=c(0),a=c.n(r),i=c(16),o=c.n(i),s=c(10),u=c(12),l=c(3),j=c(37),v=c(36),b=c(20),d=c.n(b),h=c(33),O=c(34),f=function(){function e(t,c,n,r,a){Object(h.a)(this,e),this.id=t,this.overview=c,this.poster_path=n,this.vote_average=r,this.title=a}return Object(O.a)(e,[{key:"avatar",get:function(){return null===this.poster_path?"https://www.metrorollerdoors.com.au/wp-content/uploads/2018/02/unavailable-image.jpg":"https://image.tmdb.org/t/p/w500/".concat(this.poster_path)}}]),e}(),p="FETCH_MOVIES",m="FETCH_MOVIES_SUCCESS",x="FETCH_MOVIES_ERROR",g="FETCH_MOVIE_BY_ID_SUCCESS",_="SET_RATE_FILTER",E=function(e){return function(t){return t(S(e))}},y="253967d753de92310c2b05fb39808df8",S=function(e){return function(t){t({type:p});var c=e?"https://api.themoviedb.org/3/search/movie?api_key=".concat(y,"&language=en-US&page=1&include_adult=false&query=").concat(e):"https://api.themoviedb.org/3/discover/movie?api_key=".concat(y,"&language=en-US&sort_by=popularity.asc&include_video=false&page=1");return d.a.get(c).then((function(e){var c=e.data.results.map((function(e){var t=e.id,c=e.overview,n=e.poster_path,r=e.vote_average,a=e.title;return new f(t,c,n,r,a)}));t({type:m,movies:c})})).catch((function(){t({type:x})}))}},N=function(e){return function(t){return t({type:p}),d.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(y)).then((function(e){var c=e.data,n=c.id,r=c.overview,a=c.poster_path,i=c.vote_average,o=c.title;t({type:g,movie:new f(n,r,a,i,o)})})).catch((function(){t({type:x})}))}},k=(c(65),c(1)),M=function(e){var t=e.clickHandler,c=e.label;return Object(k.jsx)("button",{className:"MainButton",onClick:t,children:c||"Search"})},R=(c(67),function(e){var t=e.errorMsg,c=e.retry;return Object(k.jsxs)("div",{className:"Error",children:[t||"Oops. An error has occurred. We're sorry about that.",void 0===c?null:Object(k.jsx)(M,{clickHandler:c,label:"Retry"})]})}),H=(c(68),function(e){var t=e.avatarUrl;return Object(k.jsx)("img",{src:t,alt:"Movie",className:"MovieAvatar"})}),T=(c(69),function(e){var t=e.clickHandler,c=e.movie;return Object(k.jsxs)("div",{onClick:function(){return t(c.id)},className:"MovieItem",children:[Object(k.jsx)("div",{className:"AvatarWrapper",children:Object(k.jsx)(H,{avatarUrl:c.avatar})}),Object(k.jsx)("h6",{children:c.title})]})}),w=c(23);c(70);!function(e){e[e.TWO=2]="TWO",e[e.FOUR=4]="FOUR",e[e.SIX=6]="SIX",e[e.EIGHT=8]="EIGHT",e[e.TEN=10]="TEN",e[e.NO_RATE=0]="NO_RATE"}(n||(n={}));var I=function(e){var t=e.click,c=e.value,n=e.selected?w.b:w.a;return Object(k.jsx)(n,{className:"RatingStar",onClick:function(){return t(c)}})},C=(c(71),function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.movieReducer})).rate,c=function(c){var r=c===t?n.NO_RATE:c;e(function(e){return{type:_,rate:e}}(r))};return Object(k.jsxs)("div",{className:"RatingFilter",children:[Object(k.jsx)("span",{children:"Filter movie by rates:"}),[2,4,6,8,10].map((function(e,n){return Object(k.jsx)(I,{value:e,click:c,selected:e<=t},n)}))]})}),F=(c(72),Object(l.f)((function(e){var t=e.movies,c=e.history,n=function(e){c.push("/details/".concat(e))};return Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"RatesContainer",children:Object(k.jsx)(C,{})}),Object(k.jsx)("div",{className:"MovieList",children:0===t.length?Object(k.jsx)("p",{children:"No results were found."}):t.map((function(e,t){return Object(k.jsx)(T,{clickHandler:n,movie:e},t)}))})]})}))),U=(c(77),function(e){var t=e.placeholder,c=e.changeHandler,n=e.searchHandler;return Object(k.jsxs)("div",{className:"SearchBox",children:[Object(k.jsx)("input",{type:"search",placeholder:t,onChange:c,onKeyPress:function(e){"Enter"===e.key&&n()}}),Object(k.jsx)(M,{clickHandler:n,label:"Search!"})]})}),A=function(){return Object(k.jsx)("div",{children:"Loading..."})},B=function(){var e=Object(s.b)(),t=Object(r.useState)(),c=Object(v.a)(t,2),n=c[0],a=c[1],i=Object(s.c)((function(e){return e.movieReducer})),o=i.movies,u=i.error,l=i.fetching,b=i.rate;return Object(r.useEffect)((function(){e(E())}),[e]),Object(k.jsxs)("div",{className:"Home",children:[Object(k.jsx)(U,{placeholder:"Search for a movie...",searchHandler:function(){e(E(n))},changeHandler:function(e){a(e.target.value)}}),Object(k.jsx)("div",{className:"container",children:function(){if(u)return Object(k.jsx)(R,{});if(l)return Object(k.jsx)(A,{});var e=0!==b?o.filter((function(e){var t=b-e.vote_average;return t>=0&&t<=2})):Object(j.a)(o);return Object(k.jsx)(F,{movies:e})}()})]})},V=(c(78),function(e){var t=e.match.params.movieId,c=Object(s.c)((function(e){return e.movieReducer})),n=c.activeMovie,a=c.fetching,i=c.error,o=Object(s.b)();return Object(r.useEffect)((function(){t&&o(function(e){return function(t){return t(N(e))}}(t))}),[o,t]),Object(k.jsx)("div",{className:"container",children:a?Object(k.jsx)(A,{}):i?Object(k.jsx)(R,{}):null!==n?Object(k.jsxs)("div",{className:"MovieDetails",children:[Object(k.jsx)(H,{avatarUrl:n.avatar}),Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{children:n.title}),Object(k.jsx)("p",{children:n.overview}),Object(k.jsxs)("p",{children:["Average rate: ",n.vote_average]}),Object(k.jsx)(u.b,{to:"/",children:"Go back"})]})]}):void 0})}),W=function(){return Object(k.jsxs)(l.c,{children:[Object(k.jsx)(l.a,{exact:!0,path:"/",component:B}),Object(k.jsx)(l.a,{exact:!0,path:"/movie-theater",component:B}),Object(k.jsx)(l.a,{exact:!0,path:"/details/:movieId",component:V})]})},G=c(15),L=c(35),D=c(9),J={activeMovie:null,error:!1,movies:[],fetching:!1,rate:0},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p:return Object(D.a)(Object(D.a)({},e),{},{activeMovie:null,error:!1,fetching:!0});case x:return Object(D.a)(Object(D.a)({},e),{},{activeMovie:null,error:!0,fetching:!1});case m:return{activeMovie:null,error:!1,movies:t.movies,fetching:!1,rate:0};case g:return Object(D.a)(Object(D.a)({},e),{},{activeMovie:t.movie,fetching:!1,error:!1});case _:return Object(D.a)(Object(D.a)({},e),{},{rate:t.rate});default:return e}},q=Object(G.b)({movieReducer:X}),K=Object(G.c)(q,Object(G.a)(L.a));c(79);o.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(s.a,{store:K,children:Object(k.jsx)(u.a,{children:Object(k.jsx)(W,{})})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.fe227a53.chunk.js.map